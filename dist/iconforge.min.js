(()=>{const e="https://cdn.jsdelivr.net/npm/iconforged@latest/dist",t="IconForge",o=`${e}/iconforge.woff2`,n=`${e}/meta/iconforge-icons.json`,a=`${e}/meta/iconforge-styles.json`,s=new Set,r=new Set,i=new Set,c=document.createElement("style");document.head.appendChild(c);let l={},d={};const m={loadStart:performance.now(),fontLoaded:!1,metaLoaded:!1,errors:0},f=e=>{if(e.nodeType!==Node.ELEMENT_NODE)return;const t=e=>{const t=e.className;"string"==typeof t&&t.split(" ").forEach(e=>{e.startsWith("if-")?s.add(e):e.startsWith("is-")&&r.add(e)})};t(e);const o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>e.className&&(e.className.includes("if-")||e.className.includes("is-"))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;o.nextNode();)t(o.currentNode)},g=()=>{let e="";s.forEach(t=>{!i.has(t)&&l[t]&&(e+=l[t],i.add(t))}),r.forEach(t=>{!i.has(t)&&d[t]&&(e+=d[t],i.add(t))}),e&&requestAnimationFrame(()=>{if(!c.nextElementSibling||!c.nextElementSibling.classList.contains("iconforge-dynamic")){const e=document.createElement("style");e.classList.add("iconforge-dynamic"),c.after(e)}c.nextElementSibling.textContent=e})},h=async()=>{let e;await(async()=>{try{const e=sessionStorage.getItem("iconforge_icons"),t=sessionStorage.getItem("iconforge_styles");if(e&&t)return l=JSON.parse(e),void(d=JSON.parse(t));const o=performance.now(),[s,r]=await Promise.all([u(n,{priority:"high"}),u(a,{priority:"high"})]);m.metaLoaded=!0,m.metaLoadTime=performance.now()-o,y("iconforge_icons",s),y("iconforge_styles",r),l=s,d=r}catch(e){m.errors++,console.warn("IconForge: Failed to load meta data, falling back to defaults",e),l={},d={}}})(),f(document.documentElement),g();new MutationObserver(t=>{clearTimeout(e),e=setTimeout(()=>{t.forEach(e=>{"childList"===e.type?e.addedNodes.forEach(f):"attributes"===e.type&&"class"===e.attributeName&&f(e.target)}),g()},16)}).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]})},u=async(e,t,o=3)=>{for(let n=0;n<o;n++)try{const o=await fetch(e,t);if(!o.ok)throw new Error(`HTTP ${o.status}`);return o.json()}catch(e){if(n===o-1)throw e;await new Promise(e=>setTimeout(e,1e3*Math.pow(2,n)))}},y=(e,t)=>{try{const o=JSON.stringify(t);return!(o.length>2097152)&&(sessionStorage.setItem(e,o),!0)}catch(e){return!1}};(()=>{const e=document.createElement("link");e.rel="preload",e.href=o,e.as="font",e.type="font/woff2",e.crossOrigin="anonymous",document.head.appendChild(e)})(),(()=>{const e=`/* Injected by IconForge */\n@font-face { font-family: '${t}'; src: url('${o}') format('woff2'); font-display: block; font-weight: normal; font-style: normal; }`;c.textContent=e})(),(()=>{const e=`[class^="if-"], [class*=" if-"] { font-family: '${t}' !important; display: inline-block; font-style: normal; font-weight: normal; font-variant: normal; text-transform: none; line-height: 1; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }`;c.textContent+=e})(),(()=>{const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t)})(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",h):h()})();